<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merry Christmas T - Winter Forest Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@400;700;900&family=Nunito:wght@400;700&family=Be+Vietnam+Pro:wght@300;400;600;800&family=Dancing+Script:wght@600&display=swap" rel="stylesheet">

    <style>
        :root {
            --forest-blue: #0c4a6e;
            --snow-white: #ffffff;
            --sky-gradient: linear-gradient(180deg, #075985 0%, #082f49 100%);
            --bg-dark: #071827;
            --accent: #64b5f6;
            --accent-glow: rgba(100, 181, 246, 0.6);
            --text-main: #ffffff;
            --text-sub: #cfd8dc;
            --glass-bg: rgba(20, 35, 55, 0.65);
            --glass-border: rgba(255, 255, 255, 0.15);
            --radius-xl: 28px;
            --shadow-soft: 0 15px 35px rgba(0, 0, 0, 0.4);
        }

        * { 
            box-sizing: border-box; 
            margin: 0; 
            padding: 0; 
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: var(--sky-gradient);
            color: #f8fafc;
            overflow-x: hidden;
            margin: 0;
        }

        html { 
            scroll-behavior: smooth; 
        }

        /* --- STAGE --- */
        .stage {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            background: radial-gradient(circle at center, rgba(56, 189, 248, 0.15) 0%, rgba(2, 6, 23, 0.7) 100%);
            transition: opacity 1s ease, transform 1.2s ease;
        }

        .stage.zoom-out-effect {
            transform: scale(3);
            opacity: 0;
            pointer-events: none;
        }

        /* --- ENVELOPE --- */
        .envelope-wrapper {
            position: relative;
            transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .envelope-wrapper:not(.open):hover {
            transform: translateY(-15px);
        }

        .envelope {
            position: relative;
            width: 520px;
            height: 360px;
            background: #082f49;
            background-image: linear-gradient(to bottom, #0c4a6e 0%, #082f49 100%);
            border-radius: 24px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden; 
            transition: all 0.5s ease;
        }

        .envelope.open {
            overflow: visible; 
            box-shadow: 0 50px 100px rgba(0, 0, 0, 0.8);
        }

        .flap {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: #0c4a6e;
            clip-path: polygon(0% 0%, 100% 0%, 50% 50%);
            z-index: 40;
        }

        .envelope.open .flap {
            display: none; 
        }

        .pocket {
            position: absolute;
            bottom: 0; left: 0; width: 100%; height: 100%;
            background: #082f49;
            clip-path: polygon(0% 45%, 50% 55%, 100% 45%, 100% 100%, 0% 100%);
            z-index: 30;
            border-bottom-left-radius: 24px;
            border-bottom-right-radius: 24px;
        }

        .seal {
            position: absolute;
            top: 45%; left: 50%;
            transform: translate(-50%, -50%);
            width: 70px; height: 70px;
            background: var(--snow-white);
            border-radius: 50%;
            z-index: 50;
            display: flex; justify-content: center; align-items: center;
            color: var(--forest-blue);
            font-size: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            transition: all 0.4s ease;
        }

        .envelope.open .seal {
            opacity: 0;
            transform: translate(-50%, -100%) scale(0);
        }

        /* --- THE CARD --- */
        .card {
            position: absolute;
            top: 50%; left: 5%;
            width: 90%; height: 85%;
            background: #ffffff;
            border-radius: 12px;
            z-index: 20;
            opacity: 0;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            pointer-events: none;
        }

        .envelope.open .card {
            top: -40%;
            opacity: 1;
            transform: rotate(-1.5deg);
        }

        .card.expanded {
            position: fixed;
            top: 50% !important; left: 50% !important;
            width: 440px; height: 600px;
            transform: translate(-50%, -50%) !important;
            z-index: 1000 !important;
            pointer-events: all;
        }

        .fold-wrapper {
            width: 100%; height: 100%;
            transform-style: preserve-3d;
            transition: transform 1.2s ease;
            transform-origin: left;
        }

        .card.unfold .fold-wrapper { transform: rotateY(-180deg); }

        .front-side {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden;
            background: linear-gradient(135deg, #0c4a6e, #082f49);
            border-radius: 12px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            z-index: 2;
            padding: 20px;
            text-align: center;
        }

        .inside-side {
            position: absolute; width: 100%; height: 100%;
            background: #ffffff;
            border-radius: 12px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            color: #0c4a6e;
            padding: 40px;
            text-align: center;
        }

        /* --- MAIN CONTENT --- */
        #mainContent {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; visibility: hidden;
            transition: opacity 1s ease;
            z-index: 2000;
            background-color: rgb(4, 32, 61);
            background-image: url("https://cssanimation.rocks/starwars/images/bg.jpg");
            background-size: 33%;
            background-repeat: repeat;
            overflow-y: auto;
            overflow-x: hidden;
        }

        #mainContent.active { opacity: 1; visibility: visible; }

        /* --- MAIN PAGE STYLES FROM index.html --- */
        .page {
            width: 100%;
            max-width: 1100px;
            padding: 40px 20px 100px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        /* --- ANIMATION UTILS --- */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- HERO SECTION --- */
        .hero {
            position: relative;
            padding: 40px;
            border-radius: 30px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.01));
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
            overflow: hidden;
            margin-bottom: 40px;
        }

        .hero::before {
            content: "";
            position: absolute;
            top: -100px;
            right: -50px;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(75, 148, 249, 0.15) 0%, rgba(255, 235, 59, 0.05) 50%, transparent 70%);
            filter: blur(60px);
            opacity: 0.8;
            pointer-events: none;
            z-index: -1;
            animation: spaceGlow 20s ease-in-out infinite;
        }

        @keyframes spaceGlow {
            0%, 100% { 
                opacity: 0.8;
                transform: scale(1) translateX(0);
            }
            50% { 
                opacity: 1;
                transform: scale(1.1) translateX(10px);
            }
        }

        .hero-content {
            position: relative;
            z-index: 2;
            display: grid;
            grid-template-columns: minmax(0, 1.5fr) minmax(0, 1fr);
            gap: 40px;
            align-items: center;
        }

        @media (max-width: 820px) {
            .hero-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            .hero { 
                padding: 24px; 
            }
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 999px;
            background: rgba(100, 181, 246, 0.1);
            border: 1px solid rgba(100, 181, 246, 0.3);
            margin-bottom: 16px;
            font-size: 0.85rem;
            color: var(--accent);
            font-weight: 600;
        }

        .hero-badge-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #5cffc3;
            box-shadow: 0 0 10px #5cffc3;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        .hero-title-small {
            font-size: 0.9rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 10px;
        }

        .hero h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.2;
            background: linear-gradient(120deg, #fff, #90caf9, #fff);
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 5s linear infinite;
        }

        @keyframes shine { 
            to { background-position: 200% center; } 
        }

        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-end infinite;
            color: var(--accent);
        }
        @keyframes blink { 
            50% { opacity: 0; } 
        }

        .hero-sub {
            font-size: 1.05rem;
            color: var(--text-sub);
            margin-bottom: 24px;
            max-width: 90%;
        }

        .hero-note {
            font-size: 0.9rem;
            color: var(--accent);
            font-style: italic;
            background: rgba(77, 163, 255, 0.05);
            padding: 10px 16px;
            border-radius: 12px;
            display: inline-block;
        }

        .hero-card, .tilt-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 30px;
            transform-style: preserve-3d;
            transform: perspective(1000px);
            transition: transform 0.1s;
        }

        .tilt-card-inner {
            transform: translateZ(20px);
        }

        .hero-card-title {
            font-size: 0.95rem;
            color: #fff;
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .hero-line {
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            margin-bottom: 15px;
        }

        .hero-quote {
            font-family: 'Dancing Script', cursive;
            font-size: 1.4rem;
            color: #e0f2fe;
            line-height: 1.6;
        }
        
        .hero-quote span {
            color: #fff;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }

        /* --- SECTION STYLES --- */
        .section {
            margin-top: 40px;
            padding: 24px;
            border-radius: var(--radius-xl);
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow-soft);
        }

        .section-header h2 {
            font-size: 1.5rem;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-sub {
            color: var(--text-sub);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .photo-item {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            aspect-ratio: 3/4;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .photo-item:hover {
            transform: scale(1.03) translateY(-5px);
            box-shadow: 0 20px 40px rgba(100, 181, 246, 0.25);
            z-index: 10;
        }

        .photo-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.7s ease;
        }

        .photo-item:hover img { 
            transform: scale(1.1); 
        }

        .photo-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 15px;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            opacity: 0;
            transform: translateY(10px);
            transition: 0.3s ease;
        }

        .photo-item:hover .photo-info {
            opacity: 1;
            transform: translateY(0);
        }

        .photo-placeholder {
            font-size: 0.85rem;
            color: #fff;
            font-weight: 500;
        }

        /* --- MESSAGE SECTION --- */
        .message {
            display: grid;
            grid-template-columns: 1.8fr 1.2fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .message { 
                grid-template-columns: 1fr; 
            }
        }

        .message-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 18px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .message-text {
            font-size: 1.05rem;
            color: #e2e8f0;
            line-height: 1.9;
            white-space: pre-line;
        }

        .highlight-box {
            margin-top: 15px;
            padding: 15px;
            background: rgba(77, 163, 255, 0.1);
            border-left: 3px solid var(--accent);
            border-radius: 0 12px 12px 0;
        }

        .signature {
            text-align: right;
            margin-top: 20px;
            font-family: 'Dancing Script', cursive;
            font-size: 2rem;
            color: var(--accent);
        }

        /* TIMELINE STYLES */
        .timeline {
            padding-left: 10px;
            border-left: 1px solid rgba(255,255,255,0.1);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 24px;
            padding-left: 20px;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -5px;
            top: 6px;
            width: 9px;
            height: 9px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
        }

        .timeline-content strong {
            color: #fff;
            display: block;
            margin-bottom: 4px;
        }
        
        .timeline-content {
            font-size: 0.9rem;
            color: var(--text-sub);
        }

        /* --- MUSIC PLAYER --- */
        .music-player {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 3000;
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(15px);
            padding: 12px 16px;
            border-radius: 16px;
            border: 1px solid rgba(77, 163, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            transition: transform 0.3s;
        }
        
        .music-player:hover {
            transform: translateY(-5px);
        }

        .music-thumb {
            width: 45px;
            height: 45px;
            border-radius: 8px;
            background: linear-gradient(135deg, #4da3ff, #00d4ff);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: #fff;
        }

        .music-btn, .play-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 1.2rem;
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--accent);
            box-shadow: 0 0 15px rgba(77, 163, 255, 0.5);
            transition: background 0.2s;
        }

        .play-btn:hover { 
            background: rgba(255,255,255,0.1); 
        }

        .music-info {
            font-size: 0.8rem;
            color: #fff;
            display: flex;
            flex-direction: column;
        }

        .music-info h4 { 
            font-size: 0.9rem; 
            margin-bottom: 2px; 
        }
        .music-info p { 
            font-size: 0.75rem; 
            color: #94a3b8; 
        }

        .music-wave {
            display: flex;
            align-items: flex-end;
            height: 15px;
            gap: 2px;
        }

        .bar {
            width: 3px;
            background: var(--accent);
            animation: equalizer 1s infinite;
        }
        .bar:nth-child(1) { height: 6px; animation-delay: 0s; }
        .bar:nth-child(2) { height: 12px; animation-delay: 0.2s; }
        .bar:nth-child(3) { height: 8px; animation-delay: 0.4s; }
        .bar:nth-child(4) { height: 10px; animation-delay: 0.1s; }

        .paused .bar { 
            animation-play-state: paused; 
            height: 3px; 
        }

        @keyframes equalizer {
            0%, 100% { height: 4px; }
            50% { height: 14px; }
        }

        /* --- LIGHTBOX --- */
        .lightbox {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .lightbox.active {
            opacity: 1;
            pointer-events: auto;
        }

        .lightbox img {
            max-width: 90%;
            max-height: 90vh;
            border-radius: 8px;
            box-shadow: 0 0 50px rgba(100, 181, 246, 0.3);
            transform: scale(0.9);
            transition: transform 0.3s;
        }

        .lightbox.active img {
            transform: scale(1);
        }

        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
            background: rgba(255,255,255,0.1);
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .snowflake {
            position: absolute; top: -20px; color: white;
            pointer-events: none; animation: fall linear infinite;
        }
        @keyframes fall {
            0% { transform: translateY(-5vh) rotate(0deg); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(105vh) rotate(360deg); opacity: 0; }
        }

        @media (max-width: 550px) {
            .envelope { width: 340px; height: 240px; }
            .card.expanded { width: 320px; height: 460px; }
        }
        /* --- H·ªÜ M·∫∂T TR·ªúI BACKGROUND EFFECTS --- */
    .system {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      opacity: 0.6; /* TƒÉng ƒë·ªô r√µ n√©t */
      transform: scale(0.5) translate(-50%, -80%); /* CƒÉn gi·ªØa m√†n h√¨nh */
      transform-origin: 50% 50%;
      top: 50%;
      left: 50%;
    }

    .sun {
      width: 200px;
      height: 200px;
      border-radius: 100px;
      position: absolute;
      top: 50vh;
      left: 50%;
      margin: -100px;
      background: radial-gradient(circle, #ffeb3b 0%, #ff9800 100%);
      background-size: 200px;
      background-repeat: no-repeat;
      box-shadow: 0 0 80px rgba(255, 235, 59, 0.9), 0 0 160px rgba(255, 152, 0, 0.7);
    }

    /* Mercury */
    @keyframes rot-mer {
      from { transform: rotate(0deg) translatey(-120px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-120px) rotate(-360deg); }
    }
    .mer {
      width: 8px; height: 8px; border-radius: 50%; background-color: #888;
      position: absolute; top: 50vh; left: 50%; margin: -4px;
      animation: rot-mer 0.88s infinite linear; z-index: 200;
    }
    .mer-path {
      width: 240px; height: 240px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -120px;
      border: solid 1px rgba(136, 136, 136, 0.7);
    }

    /* Venus */
    @keyframes rot-ven {
      from { transform: rotate(0deg) translatey(-160px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-160px) rotate(-360deg); }
    }
    .ven {
      width: 12px; height: 12px; border-radius: 50%; background-color: #f5f9be;
      position: absolute; top: 50vh; left: 50%; margin: -6px;
      animation: rot-ven 2.25s infinite linear; z-index: 200;
    }
    .ven-path {
      width: 320px; height: 320px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -160px;
      border: solid 1px rgba(245, 249, 190, 0.6);
    }

    /* Earth */
    @keyframes rot-ear {
      from { transform: rotate(0deg) translatey(-200px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-200px) rotate(-360deg); }
    }
    .ear {
      width: 16px; height: 16px; border-radius: 50%; background-color: #4b94f9;
      position: absolute; top: 50vh; left: 50%; margin: -8px;
      animation: rot-ear 3.65s infinite linear; z-index: 200;
    }
    .ear-path {
      width: 400px; height: 400px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -200px;
      border: solid 1px rgba(75, 148, 249, 0.6);
    }

    /* Mars */
    @keyframes rot-mar {
      from { transform: rotate(0deg) translatey(-250px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-250px) rotate(-360deg); }
    }
    .mar {
      width: 14px; height: 14px; border-radius: 50%; background-color: #dd411a;
      position: absolute; top: 50vh; left: 50%; margin: -7px;
      animation: rot-mar 6.87s infinite linear; z-index: 200;
    }
    .mar-path {
      width: 500px; height: 500px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -250px;
      border: solid 1px rgba(221, 65, 26, 0.6);
    }

    /* Jupiter */
    @keyframes rot-jup {
      from { transform: rotate(0deg) translatey(-350px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-350px) rotate(-360deg); }
    }
    .jup {
      width: 120px; height: 120px; border-radius: 50%; background-color: #eaad3b;
      position: absolute; top: 50vh; left: 50%; margin: -60px;
      animation: rot-jup 43.32s infinite linear; z-index: 200;
    }
    .jup-path {
      width: 700px; height: 700px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -350px;
      border: solid 1px rgba(234, 173, 59, 0.5);
    }

    /* Saturn */
    @keyframes rot-sat {
      from { transform: rotate(0deg) translatey(-460px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-460px) rotate(-360deg); }
    }
    .sat {
      width: 100px; height: 100px; border-radius: 50%; background-color: #d6cd93;
      position: absolute; top: 50vh; left: 50%; margin: -50px;
      animation: rot-sat 107.59s infinite linear; z-index: 200;
    }
    .sat-path {
      width: 920px; height: 920px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -460px;
      border: solid 1px rgba(214, 205, 147, 0.4);
    }

    /* Saturn Rings */
    div[class$="-ring"] {
      border-radius: 50%; position: absolute; top: 50%; left: 50%; opacity: 0.7;
      transform: rotatex(45deg);
    }
    .a-ring { border: solid 5px #96866f; width: 140px; height: 140px; margin: -70px; }
    .b-ring { border: solid 8px #554c3c; width: 125px; height: 125px; margin: -62.5px; }
    .c-ring { border: solid 7px #574f4a; width: 110px; height: 110px; margin: -55px; }
    .f-ring { border: solid 2px #908e8d; width: 155px; height: 155px; margin: -77.5px; }

    /* Uranus */
    @keyframes rot-ura {
      from { transform: rotate(0deg) translatey(-580px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-580px) rotate(-360deg); }
    }
    .ura {
      width: 45px; height: 45px; border-radius: 50%; background-color: #bfeef2;
      position: absolute; top: 50vh; left: 50%; margin: -22.5px;
      animation: rot-ura 306.87s infinite linear; z-index: 200;
    }
    .ura-path {
      width: 1160px; height: 1160px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -580px;
      border: solid 1px rgba(191, 238, 242, 0.3);
    }
    .e-ring {
      border: solid 6px #908e8d; width: 70px; height: 70px; margin: -35px;
      transform: rotatex(0deg) rotatey(89deg) !important;
    }

    /* Neptune */
    @keyframes rot-nep {
      from { transform: rotate(0deg) translatey(-700px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-700px) rotate(-360deg); }
    }
    .nep {
      width: 42px; height: 42px; border-radius: 50%; background-color: #363ed7;
      position: absolute; top: 50vh; left: 50%; margin: -21px;
      animation: rot-nep 601.9s infinite linear; z-index: 200;
    }
    .nep-path {
      width: 1400px; height: 1400px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -700px;
      border: solid 1px rgba(54, 62, 215, 0.2);
    }

    /* Pluto */
    @keyframes rot-plu {
      from { transform: rotate(0deg) translatey(-820px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-820px) rotate(-360deg); }
    }
    .plu {
      width: 6px; height: 6px; border-radius: 50%; background-color: #963;
      position: absolute; top: 50vh; left: 50%; margin: -3px;
      animation: rot-plu 904.65s infinite linear; z-index: 200;
    }
    .plu-path {
      width: 1640px; height: 1640px; border-radius: 50%; z-index: 100;
      position: absolute; top: 50vh; left: 50%; margin: -820px;
      border: solid 1px rgba(153, 102, 51, 0.2);
    }

    /* Moon and other satellites */
    @keyframes rot-lune {
      from { transform: rotate(0deg) translatey(-7px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-7px) rotate(-360deg); }
    }
    .lune {
      width: 4px; height: 4px; background-color: rgba(255,255,255,0.8);
      position: absolute; top: 50%; left: 50%; margin: -2px;
      animation: rot-lune 0.27s infinite linear;
    }

    /* Mars satellites */
    @keyframes rot-pho {
      from { transform: rotate(0deg) translatey(-7px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-7px) rotate(-360deg); }
    }
    @keyframes rot-dem {
      from { transform: rotate(0deg) translatey(-9px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-9px) rotate(-360deg); }
    }
    .pho, .dem {
      width: 3px; height: 3px; background-color: rgba(255,255,255,0.8);
      position: absolute; top: 50%; left: 50%;
    }
    .pho {
      margin: -1px;
      animation: rot-pho 0.15s infinite linear;
    }
    .dem {
      margin: -1px;
      animation: rot-dem 0.2s infinite linear;
    }

    /* Jupiter satellites */
    .jove {
      width: 4px; height: 4px; background-color: rgba(255,255,255,0.6);
      position: absolute; top: 60px; left: 50%;
    }
    
    @keyframes rot-io {
      from { transform: rotate(0deg) translatey(-70px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-70px) rotate(-360deg); }
    }
    @keyframes rot-eur {
      from { transform: rotate(0deg) translatey(-75px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-75px) rotate(-360deg); }
    }
    @keyframes rot-gan {
      from { transform: rotate(0deg) translatey(-85px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-85px) rotate(-360deg); }
    }
    @keyframes rot-cal {
      from { transform: rotate(0deg) translatey(-95px) rotate(0deg); }
      to { transform: rotate(360deg) translatey(-95px) rotate(-360deg); }
    }
    
    .io { animation: rot-io 0.2s infinite linear; }
    .eur { animation: rot-eur 0.35s infinite linear; }
    .gan { animation: rot-gan 0.7s infinite linear; }
    .cal { animation: rot-cal 1.65s infinite linear; }

    /* Planet textures */
    .mar {
      background-image: repeating-linear-gradient(
        to bottom,
        rgba(221,65,26,1),
        rgba(221,65,26,1) 1px,
        transparent 1px,
        transparent 3px
      );
    }

    .jup {
      background-image: repeating-linear-gradient(
        6deg,
        #797663 2px,
        #e1dcde 1px,
        #c3a992 3px,
        #e9ece2 3px
      );
    }

    /* Spots on planets */
    .spot {
      position: absolute;
      width: 28px;
      height: 20px;
      border-radius: 14px / 10px;
      top: 45%;
      left: 50%;
      background-color: #bc833b;
      box-shadow: 0px 0px 8px rgba(225, 220, 222, 0.6);
      border: solid 1px rgba(225, 220, 222, 0.4);
      box-sizing: border-box;
      z-index: 300;
      margin: -10px -14px;
    }
    .nep .spot {
      background-color: #29319d;
      border: 0;
      box-shadow: none;
      top: 50%;
      left: 45%;
      width: 16px;
      height: 10px;
      margin: -5px -8px;
      border-radius: 8px / 5px;
      border-left: solid 2px #7ed6fe;
    }
    /* K·∫æT TH√öC H·ªÜ M·∫∂T TR·ªúI */  */

    /* --- SANTA CLAUS FLYING ANIMATION --- */
    .santa-flying {
      position: fixed;
      top: 15%;
      left: -250px;
      z-index: 5;
      pointer-events: none;
      animation: santaFlyAcross 12s linear infinite;
    }

    @keyframes santaFlyAcross {
      0% {
        left: -250px;
        transform: scale(0.6);
      }
      25% {
        transform: scale(0.8);
      }
      50% {
        left: 50%;
        transform: translateX(-50%) scale(1);
      }
      75% {
        transform: scale(0.8);
      }
      100% {
        left: calc(100vw + 250px);
        transform: scale(0.6);
      }
    }

    .santa-image {
      width: 350px;
      height: auto;
      filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));
      animation: santaFloat 2s ease-in-out infinite;
    }

    @keyframes santaFloat {
      0%, 100% {
        transform: translateY(0px) rotate(-2deg);
      }
      50% {
        transform: translateY(-10px) rotate(2deg);
      }
    }

    /* Hi·ªáu ·ª©ng l·∫•p l√°nh ph√≠a sau Santa */
    .santa-sparkles {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .sparkle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #ffffff;
      border-radius: 50%;
      animation: sparkle 1.5s ease-in-out infinite;
    }

    .sparkle:nth-child(1) {
      top: 20%;
      left: -30px;
      animation-delay: 0s;
    }

    .sparkle:nth-child(2) {
      top: 40%;
      left: -20px;
      animation-delay: 0.3s;
    }

    .sparkle:nth-child(3) {
      top: 60%;
      left: -25px;
      animation-delay: 0.6s;
    }

    @keyframes sparkle {
      0%, 100% {
        opacity: 0;
        transform: scale(0);
      }
      50% {
        opacity: 1;
        transform: scale(1);
        box-shadow: 0 0 10px #ffffff;
      }
    }

    /* Magic dust trail (pure-CSS enhancement for existing HTML) */
    .santa-flying::before,
    .santa-flying::after {
      content: '';
      position: absolute;
      pointer-events: none;
      right: calc(100% + 8px); /* place behind the santa image */
      top: 10%;
      width: 420px;
      height: 260px;
      background-repeat: repeat;
      opacity: 0.9;
      filter: blur(2px);
    }

    /* Two layers for parallax/fall variation */
    

    @keyframes dustFallBg {
      0% { transform: translateY(0) translateX(0) scale(1); opacity: 1; }
      100% { transform: translateY(120px) translateX(-40px) scale(0.9); opacity: 0; }
    }

    /* Make trail wider/denser on larger screens */
    @media (min-width: 1200px) {
      .santa-flying::before, .santa-flying::after { width: 600px; height: 320px; }
    }

    /* Reduce on small screens */
    @media (max-width: 600px) {
      .santa-flying::before, .santa-flying::after { display: none; }
      .santa-image { width: 220px; }
    }

    /* Real particle elements (spawned by JS) */
    .santa-particle {
      position: fixed;
      pointer-events: none;
      border-radius: 50%;
      will-change: transform, opacity, left, top;
      mix-blend-mode: screen;
      box-shadow: 0 0 8px rgba(255,255,255,0.6);
      animation-name: fallDust;
      animation-timing-function: linear;
      animation-fill-mode: forwards;
    }

    @keyframes fallDust {
      to {
        transform: translateY(700px) translateX(-80px) scale(0.3) rotate(180deg);
        opacity: 0;
      }
    }
    /* K√âT TH√öC SANTA CLAUS FLYING ANIMATION */ */
    </style>
</head>
<body onload="setupSnow()">
    <div id="envelopeBg" style="position:fixed; inset:0; z-index:1; pointer-events:none;">
            <div style="position:absolute; left:0; top:0; width:100%; height:100%; background:
                linear-gradient(to right, rgba(26, 13, 100, 0.507), rgba(19, 13, 100, 0.397) 70%, rgb(9, 9, 17) 100%),
                url('images/hinhnen2.jpg') left center/cover no-repeat;"></div>
        </div>
    <!-- <audio id="audio" loop>
        <source src="https://cdn.pixabay.com/audio/2022/11/22/audio_febc508520.mp3" type="audio/mp3">
    </audio> -->

    <!-- Music Player cho file index.html -->
    <audio id="bgMusic" loop>
        <source src="media/Jingle Bells Lofi.mp3" type="audio/mpeg">
    </audio>

    <div class="stage" id="stage">
        <div id="snowStage" class="absolute inset-0 pointer-events-none"></div>

        <div class="envelope-wrapper" id="envWrap">
            <div class="envelope" id="env" onclick="handleOpen()">
                <div class="absolute inset-0 bg-[#062b41] rounded-[24px]"></div>
                
                <div class="absolute top-[65%] left-1/2 -translate-x-1/2 text-center z-[35] w-full">
                    <div style="font-family: 'Great Vibes';" class="text-5xl text-white mb-2">Merry Christmas</div>
                    <div class="text-[11px] uppercase tracking-[0.4em] text-white/40 font-bold">G·ª≠i ƒë·∫øn T ‚Ä¢ Ch·∫°m ƒë·ªÉ m·ªü</div>
                </div>

                <div class="card" id="card">
                    <div class="inside-side">
                        <i class="fa-solid fa-heart text-red-500 text-7xl mb-8 animate-pulse"></i>
                        <h3 class="text-3xl font-bold text-slate-800 mb-4">B·∫•t ng·ªù ch∆∞a</h3>
                        <div class="w-24 h-1.5 bg-sky-100 rounded-full mb-6"></div>
                        <p class="text-xl text-slate-500 italic">M·ªát qu√°, ngh·ªâ x√≠u üòÅ</p>
                    </div>
                    <div class="fold-wrapper">
                        <div class="front-side">
                            <i class="fa-solid fa-tree text-white text-8xl mb-10"></i>
                            <h2 class="text-4xl font-black text-white tracking-[0.2em] mb-2">MERRY</h2>
                            <h2 class="text-4xl font-black text-white tracking-[0.2em]">X-MAS</h2>
                        </div>
                    </div>
                </div>

                <div class="flap" id="envFlap"></div>
                <div class="pocket"></div>
                <div class="seal"><i class="fa-solid fa-gift"></i></div>
            </div>
        </div>
    </div>

    <div id="mainContent">
        <div id="snowMain" class="inset-0 pointer-events-none" style="position:fixed; inset:0; z-index:99;"></div>
        <div id="envelopeBg" style="position:fixed; inset:0; z-index:1; pointer-events:none;">
            <div style="position:absolute; left:0; top:0; width:100%; height:100%; background:
                linear-gradient(to right, rgba(26, 13, 100, 0.507), rgba(19, 13, 100, 0.397) 70%, rgb(9, 9, 17) 100%),
                url('images/hinhnen2.jpg') left center/cover no-repeat;"></div>
        </div>
        <!-- MUSIC PLAYER -->
        <div class="music-player">
            <div class="music-thumb"><i class="fas fa-music"></i></div>
            <div class="music-info">
                <h4>Gi√°ng Sinh An L√†nh</h4>
                <div class="music-wave paused" id="musicWave">
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                    <div class="bar"></div>
                </div>
            </div>
            <button class="music-btn" id="musicToggle">
                <i class="fas fa-play"></i>
            </button>
        </div>

        <!-- MAIN PAGE CONTENT -->
        <main class="page" id="mainPage">
            <!-- Hi·ªáu ·ª©ng H·ªá M·∫∑t Tr·ªùi -->
  <div class="system">
    <div class="sun"></div>
    <div class="mer-path"></div>
    <div class="mer"></div>
    <div class="ven-path"></div>
    <div class="ven"></div>
    <div class="ear-path"></div>
    <div class="ear"><div class="lune"></div></div>
    <div class="mar-path"></div>
    <div class="mar">
      <div class="pho"></div>
      <div class="dem"></div>
    </div>
    <div class="jup-path"></div>
    <div class="jup">
      <div class="spot"></div>
      <div class="jove io"></div>
      <div class="jove eur"></div>
      <div class="jove gan"></div>
      <div class="jove cal"></div>
    </div>
    <div class="sat-path"></div>
    <div class="sat">
      <div class="f-ring"></div>
      <div class="a-ring"></div>
      <div class="b-ring"></div>
      <div class="c-ring"></div>
    </div>
    <div class="ura-path"></div>
    <div class="ura">
      <div class="e-ring"></div>
    </div>
    <div class="nep-path"></div>
    <div class="nep">
      <div class="spot"></div>
    </div>
    <div class="plu-path"></div>
    <div class="plu"></div>
  </div>
  <!-- √îng gi√† Noel bay qua m√†n h√¨nh -->
  <div class="santa-flying">
    <div class="santa-sparkles">
      <div class="sparkle"></div>
      <div class="sparkle"></div>
      <div class="sparkle"></div>
    </div>
    <!-- <img src="images/onggianoel.png" alt="√îng gi√† Noel" class="santa-image"> -->
  </div>
            <!-- HERO -->
            <section class="hero reveal">
                <div class="hero-content">
                    <div>
                        <div class="hero-badge">
                            <!-- <span class="hero-badge-dot"></span> -->
                            <span><i class="fas fa-snowflake"></i> Noel 2025 ¬∑ D√†nh ri√™ng cho em üéÑ</span>
                        </div>
                        
                        <div class="hero-title-small">G·ª≠i ƒë·∫øn C√¥ g√°i nh·ªè</div>
                        <h1 id="typingTitle" class="typing-cursor"></h1>
                        
                        <p class="hero-sub">
                            Anh g√≥i ·ªü ƒë√¢y m·ªôt ch√∫t m√†u xanh b√¨nh y√™n ‚Äì ƒë√∫ng m√†u em th√≠ch, c√πng v√†i kho·∫£nh kh·∫Øc nh·ªè anh th·∫•y d·ªÖ th∆∞∆°ng.
                            Ch·ªâ l√† m·ªôt g√≥c nh·ªè anh l√†m b·∫±ng s·ª± ch√¢n th√†nh, mong r·∫±ng khi m·ªü ra, em s·∫Ω th·∫•y nh·∫π l√≤ng v√† ·∫•m h∆°n trong nh·ªØng ng√†y b·∫≠n r·ªôn.
                        </p>
                        <div class="hero-note">
                            *M·ªü trang n√†y v√†o m·ªói m√πa Gi√°ng sinh sau n·ªØa, bi·∫øt ƒë√¢u m√¨nh l·∫°i m·ªâm c∆∞·ªùi v√¨ nh·ªØng g√¨ ƒë√£ c√πng ƒëi qua.* ‚ú∂
                        </div>
                    </div>

                    <!-- Tilt Card -->
                    <div class="tilt-card" id="tiltCard">
                        <div class="tilt-card-inner">
                            <div class="hero-card-title">
                                <span>G√≥c b√≠ m·∫≠t c·ªßa <strong>T</strong> ‚ú®</span>
                                <i class="fas fa-heart" style="color: var(--accent);"></i>
                            </div>
                            <div class="hero-line"></div>
                            <p class="hero-quote">
                                "Mong em lu√¥n gi·ªØ ƒë∆∞·ª£c n·ª• c∆∞·ªùi trong tr·∫ªo ·∫•y, kh√¥ng ch·ªâ Gi√°ng sinh n√†y, 
                                <span>m√† c·∫£ nh·ªØng ng√†y th√°ng sau n√†y n·ªØa.</span>"
                            </p>
                            <div style="margin-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; font-size: 0.85rem; color: #94a3b8;">
                                <i class="fas fa-map-marker-alt"></i> Vƒ©nh Ph√∫c, Dec 2025
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- GALLERY -->
            <section class="section reveal">
                <div class="section-header">
                    <h2 class="section-title"><i class="far fa-images"></i> Nh·ªØng kho·∫£nh kh·∫Øc em c∆∞·ªùi ‚ùÑÔ∏è</h2>
                    <p class="section-sub">Nh·∫•n v√†o t·ª´ng t·∫•m ƒë·ªÉ xem r√µ h∆°n nh√©.</p>
                </div>
                <div class="photo-grid">
                    <div class="photo-item">
                        <img src="https://images.unsplash.com/photo-1542038784456-1ea8e935640e?q=80&w=2070&auto=format&fit=crop" loading="lazy" alt="Memory 1" />
                        <div class="photo-info">
                            <div class="photo-placeholder">·∫¢nh 1 ‚Äì Em c∆∞·ªùi ki·ªÉu "kh√¥ng gi·ªëng ti·∫øng ng∆∞·ªùi" üòÜ</div>
                        </div>
                    </div>
                    <div class="photo-item">
                        <img src="https://images.unsplash.com/photo-1516726817505-f5ed825624d8?q=80&w=1974&auto=format&fit=crop" loading="lazy" alt="Memory 2" />
                        <div class="photo-info">
                            <div class="photo-placeholder">·∫¢nh 2 ‚Äì Bu·ªïi ƒëi ch∆°i ƒë√°ng nh·ªõ.</div>
                        </div>
                    </div>
                    <div class="photo-item">
                        <img src="https://images.unsplash.com/photo-1482592759887-19d42dd55047?q=80&w=1976&auto=format&fit=crop" loading="lazy" alt="Memory 3" />
                        <div class="photo-info">
                            <div class="photo-placeholder">·∫¢nh 3 ‚Äì L√∫c em b·∫≠n r·ªôn m√† v·∫´n vui.</div>
                        </div>
                    </div>
                    <div class="photo-item">
                        <img src="https://images.unsplash.com/photo-1519757098495-2cc686c478a0?q=80&w=2071&auto=format&fit=crop" loading="lazy" alt="Memory 4" />
                        <div class="photo-info">
                            <div class="photo-placeholder">·∫¢nh 4 ‚Äì Gi·∫•c ng·ªß tr∆∞a huy·ªÅn tho·∫°i üí§</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- MESSAGE + TIMELINE -->
            <section class="section reveal">
                <div class="section-header">
                    <h2 class="section-title"><i class="fas fa-envelope-open-text"></i> L·ªùi ch√∫c Gi√°ng sinh g·ª≠i em üíô</h2>
                    <p class="section-sub">M·ªôt ch√∫t ch·ªØ, cho m√πa ƒë√¥ng ƒë·ª° l·∫°nh.</p>
                </div>

                <div class="message">
                    <div class="message-card">
                        <h3>G·ª≠i T,</h3>
                        <div class="message-text">
                            Anh kh√¥ng gi·ªèi n√≥i tr·ª±c ti·∫øp, n√™n anh ƒë·ªÉ nh·ªØng ƒëi·ªÅu n√†y n·∫±m y√™n ·ªü ƒë√¢y.

                            C·∫£m ∆°n em v√¨ nh·ªØng kho·∫£nh kh·∫Øc r·∫•t nh·ªè nh∆∞ng d·ªÖ th∆∞∆°ng: Nh·ªØng l·∫ßn r·ªß anh ƒëi ƒë√¢y ƒë√≥, nh·ªØng c√¢u chuy·ªán vu v∆° gi·ªØa ng√†y b·∫≠n r·ªôn, 
                            hay ƒë∆°n gi·∫£n l√† c√°ch em mang l·∫°i c·∫£m gi√°c nh·∫π nh√†ng cho nh·ªØng ng∆∞·ªùi xung quanh.

                            L·∫°i m·ªôt m√πa Gi√°ng sinh n·ªØa ƒë·∫øn r·ªìi. Anh bi·∫øt d·∫°o n√†y em b·∫≠n r·ªôn nhi·ªÅu th·ª©, t·ª´ h·ªçc h√†nh ƒë·∫øn c√¥ng vi·ªác. 
                            Nh∆∞ng ƒë·ª´ng qu√™n d√†nh ch√∫t th·ªùi gian cho b·∫£n th√¢n nh√©.

                            <div class="highlight-box">
                                <strong>Gi√°ng sinh 2025, anh ch√∫c em:</strong>
                                <br>‚Äì Lu√¥n gi·ªØ ƒë∆∞·ª£c nƒÉng l∆∞·ª£ng t√≠ch c·ª±c m√† em mang t·ªõi cho m·ªçi ng∆∞·ªùi.
                                <br>‚Äì Lu√¥n lu√¥n b√¨nh an, thi c·ª≠ thu·∫≠n l·ª£i, l√†m g√¨ c≈©ng v·ªØng v√†ng.
                                <br>‚Äì D√π b·∫≠n r·ªôn v·∫´n c√≥ th·ªùi gian ƒë·ªÉ ngh·ªâ ng∆°i v√† vui.
                                <br>‚Äì Lu√¥n v·ªØng v√†ng tr∆∞·ªõc nh·ªØng ƒëi·ªÅu kh√≥, v√† d·ªãu d√†ng v·ªõi nh·ªØng ƒëi·ªÅu nh·ªè, ƒëi ƒë√¢u c≈©ng ƒë∆∞·ª£c m·ªçi ng∆∞·ªùi y√™u qu√Ω.
                            </div>

                            N·∫øu sau n√†y em t√¨nh c·ªù m·ªü l·∫°i trang web n√†y, hy v·ªçng em bi·∫øt r·∫±ng ƒë√£ t·ª´ng c√≥ m·ªôt m√πa Gi√°ng sinh, 
                            anh l·∫∑ng l·∫Ω g·ª≠i v√†o ƒë√¢y ch√∫t ·∫•m √°p ch·ªâ ƒë·ªÉ em m·ªâm c∆∞·ªùi m·ªôt ch√∫t th√¥i. üí´

                            Merry Christmas! üéÑ
                        </div>

                        <div class="signature">
                            From D with luv.<br>
                            <span style="font-size: 1.5rem;">D.</span>
                        </div>
                    </div>

                    <aside class="message-card">
                        <h3>Nh·∫≠t k√Ω nh·ªè 2025 ‚ú∂</h3>
                        <div class="timeline" style="margin-top: 15px;">
                            <div class="timeline-item">
                                <div class="timeline-content">
                                    <strong>Kh·ªüi ƒë·∫ßu</strong>
                                    M·ªôt g√≥c nh·ªè ƒë∆∞·ª£c t·∫°o ra t·ª´ nh·ªØng ng√†y cu·ªëi nƒÉm, khi m·ªçi th·ª© ƒë·ªÅu v·ªôi nh∆∞ng c·∫£m x√∫c th√¨ kh√¥ng.
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-content">
                                    <strong>M√†u s·∫Øc</strong>
                                    M√†u M√†u xanh v√† & tr·∫Øng - nh·ªØng gam m√†u anh nh·ªõ l√† em th√≠ch, ƒë·ªß d·ªãu ƒë·ªÉ nh√¨n l√¢u m√† kh√¥ng m·ªèi.
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-content">
                                    <strong>Kho·∫£nh kh·∫Øc</strong>
                                    Kh√¥ng ph·∫£i ƒëi·ªÅu g√¨ l·ªõn lao, ch·ªâ l√† v√†i h√¨nh ·∫£nh, v√†i d√≤ng ch·ªØ... nh∆∞ng ƒë·ªÅu l√† nh·ªØng ƒëi·ªÅu anh th·∫•y d√°ng gi·ªØ l·∫°i.
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-content">
                                    <strong>G·ª≠i em</strong>
                                    Mong r·∫±ng khi m·ªü trang n√†y, em c·∫£m th·∫•y nh·∫π h∆°n m·ªôt ch√∫t - v·∫≠y l√† ƒë·ªß r·ªìi üòå
                                </div>
                            </div>
                        </div>
                    </aside>
                </div>
            </section>
        </main>
    </div>

    <!-- Lightbox -->
    <div class="lightbox" id="lightbox">
        <span class="lightbox-close" id="lightboxClose">&times;</span>
        <img id="lightboxImg" src="" alt="Full view" />
    </div>

    <script>
        // Variables
        let isPlaying = false;
        let charIndex = 0;
        let particles = [];
        const colors = ['#64b5f6', '#ffffff', '#e1f5fe'];
        const titleText = "Gi√°ng Sinh Vui V·∫ª Nh√©! üéÑ";
        const titleElement = document.getElementById('typingTitle');

        // Typing effect
        function typeWriter() {
            if (charIndex < titleText.length) {
                titleElement.innerHTML += titleText.charAt(charIndex);
                charIndex++;
                setTimeout(typeWriter, 50);
            } else {
                setTimeout(() => titleElement.classList.remove('typing-cursor'), 2000);
            }
        }

        // Snow setup
        function setupSnow() {
            createSnowflakes('snowStage', 50);
            createSnowflakes('snowMain', 50);
        }

        function createSnowflakes(containerId, count) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            for (let i = 0; i < count; i++) {
                const flake = document.createElement('div');
                flake.className = 'snowflake';
                flake.innerHTML = '‚ùÑ';
                flake.style.left = Math.random() * 100 + '%';
                flake.style.fontSize = (Math.random() * 10 + 10) + 'px';
                flake.style.animationDuration = (Math.random() * 5 + 5) + 's';
                flake.style.animationDelay = Math.random() * 5 + 's';
                container.appendChild(flake);
            }
        }

        // Envelope handling
        let opened = false;
        function handleOpen() {
            if (opened) return;
            opened = true;

            const env = document.getElementById('env');
            const card = document.getElementById('card');
            //const audio = document.getElementById('audio');

            env.classList.add('open');
            //audio.play().catch(e => console.log('Audio play failed:', e));

            setTimeout(() => {
                card.classList.add('expanded');
                setTimeout(() => {
                    card.classList.add('unfold');
                    setTimeout(() => {
                        showMainContent();
                    }, 20);
                }, 500);
            }, 800);
        }

        function showMainContent() {
            const stage = document.getElementById('stage');
            const mainContent = document.getElementById('mainContent');
            const audio = document.getElementById('bgMusic');

            stage.classList.add('zoom-out-effect');
            
            setTimeout(() => {
                stage.style.display = 'none';
                mainContent.classList.add('active');
                
                // Start background music
                audio.volume = 0.5;
                audio.play().then(() => {
                    document.getElementById('musicToggle').innerHTML = '<i class="fas fa-pause"></i>';
                    document.getElementById('musicWave').classList.remove('paused');
                    isPlaying = true;
                }).catch(e => console.log("C·∫ßn t∆∞∆°ng t√°c th√™m ƒë·ªÉ ph√°t nh·∫°c"));

                // Start typing effect
                setTimeout(typeWriter, 1000);

                // Activate reveal animations
                setTimeout(() => {
                    document.querySelectorAll('.reveal').forEach(el => {
                        el.classList.add('active');
                    });
                }, 500);

                // Fire confetti
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 }
                });
            }, 1200);
        }

        // Music player controls
        const bgMusic = document.getElementById('bgMusic');
        const musicBtn = document.getElementById('musicToggle');
        const musicWave = document.getElementById('musicWave');

        if (musicBtn) {
            musicBtn.addEventListener('click', () => {
                if (isPlaying) {
                    bgMusic.pause();
                    musicBtn.innerHTML = '<i class="fas fa-play"></i>';
                    musicWave.classList.add('paused');
                } else {
                    bgMusic.play();
                    musicBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    musicWave.classList.remove('paused');
                }
                isPlaying = !isPlaying;
            });
        }

        // 3D Tilt effect
        const card = document.getElementById('tiltCard');
        document.addEventListener('mousemove', (e) => {
            if (window.innerWidth < 768 || !card) return;

            const x = (window.innerWidth / 2 - e.pageX) / 25;
            const y = (window.innerHeight / 2 - e.pageY) / 25;
            
            card.style.transform = `perspective(1000px) rotateY(${x}deg) rotateX(${y}deg)`;
        });

        // Lightbox
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightboxImg');
        const closeBtn = document.getElementById('lightboxClose');
        
        document.querySelectorAll('.photo-item img').forEach(img => {
            img.addEventListener('click', () => {
                lightboxImg.src = img.src;
                lightbox.classList.add('active');
            });
        });

        const closeLightbox = () => lightbox.classList.remove('active');
        
        if (closeBtn) closeBtn.addEventListener('click', closeLightbox);
        if (lightbox) {
            lightbox.addEventListener('click', (e) => {
                if(e.target === lightbox) closeLightbox();
            });
        }

        // Scroll reveal observer
        const observerOptions = {
            threshold: 0.15
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // JS CHO √îNG GI√Ä NOEL R∆†I B·ª§I PH√ÅO GI·∫§Y */
    </script>
</body>
</html>
